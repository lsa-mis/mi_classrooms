%nav.bg-blue-600{data: {controller: "dropdown"}}
  .max-w-7xl{class: "mx-auto px-4 sm:px-6 lg:px-8"}
    .flex.items-center.justify-between.h-16
     
     

      .header-logo.flex.items-center.align-middle
        = link_to image_tag(asset_path('mi_classrooms_logo.png'), alt: "#{(t :sitename)} Logo, link to home page.", id: root_path(anchor: 'page-bottom')), root_path
        
        .hidden{class: "md:block"}

          .header-links
            .header-link
              = link_to "About", about_path
            .header-link
              = link_to 'Contact', contact_path
            .header-link
              = link_to "Buildings", buildings_path
            .header-link
              = link_to "Classrooms", rooms_path

      .hidden{class: "md:block absolute right-0 m-8"}
        .ml-4{class: "flex items-center md:ml-6"}
          %button{class: "bg-blue-600 p-1 rounded-full text-blue-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white"}
            %span.sr-only View notifications
            / Heroicon name: bell
            %svg.h-6.w-6{"aria-hidden" => "true", :fill => "none", :stroke => "currentColor", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
              %path{:d => "M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2"}

          / Profile dropdown
          .ml-3.relative{data: {controller: "dropdown"}}
            %div
              %button#user-menu{class: "max-w-xs bg-blue-600 rounded-full flex items-center text-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white", "aria-haspopup" => "true", "data-action" => "click->dropdown#toggle click@window->dropdown#hide", :role => "button"}
                %span.sr-only Open user menu
                %img.h-8.w-8.rounded-full{:alt => "User photo", :src => "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}/
            /
              Profile dropdown panel, show/hide based on dropdown state.

              Entering: "transition ease-out duration-100"
              From: "transform opacity-0 scale-95"
              To: "transform opacity-100 scale-100"
              Leaving: "transition ease-in duration-75"
              From: "transform opacity-100 scale-100"
              To: "transform opacity-0 scale-95"
            .profile-dropdown{
              data: {"dropdown-target" => "menu",
                "dropdown-invisible-class" => "opacity-0 -translate-y-1 scale-95",
                "dropdown-visible-class" => "opacity-100  -translate-y-0",
                "dropdown-entering-class" => "transition ease-out duration-200",
                "dropdown-leaving-class" => "transition ease-in duration-150"
                },
                "aria-labelledby" => "user-menu",
                "aria-orientation" => "vertical", :role => "menu"
              }
              %a{class: "block px-4 py-2 text-sm text-gray-700 hover:bg-white", :href => "#", :role => "menuitem"} Your Profile
              %a{class: "block px-4 py-2 text-sm text-gray-700 hover:bg-white", :href => "#", :role => "menuitem"} Settings
              -# %a{class: "block px-4 py-2 text-sm text-gray-700 hover:bg-white", :href => "#", :role => "menuitem"} Sign out
              .user-actions
                .flex.items-center{class: "block px-4 py-2 text-sm text-gray-700 hover:bg-white"}
                  - if user_signed_in?
                    %img.user-avatar{:alt => "User Photo", :src => current_user.avatar_url, "data-action" => "click->toggle#dropdowntoggle" }
                    %span.user-name
                      = current_user.uniqname
                  - else
                    .user-action-link{class: "block px-4 py-2 text-sm text-gray-700 hover:bg-white"}
                      = link_to user_google_oauth2_omniauth_authorize_path do
                        %i.fas.fa-user-plus
                        Sign In


      .flex
        / Mobile menu button
        %button{class: "mobile-menu-button md:hidden", "data-action" => "click->dropdown#toggle click@window->dropdown#hide", "data-active-target" => "user-menu", :role => "button"}
          %span.sr-only Open main menu
          /
            Heroicon name: menu

            Menu open: "hidden", Menu closed: "block"
          %svg.block.h-6.w-6{"aria-hidden" => "true", :fill => "none", :stroke => "currentColor", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
            %path{:d => "M4 6h16M4 12h16M4 18h16", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2"}
          /
            Heroicon name: x

            Menu open: "block", Menu closed: "hidden"
          %svg.hidden.h-6.w-6{"aria-hidden" => "true", :fill => "none", :stroke => "currentColor", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
            %path{:d => "M6 18L18 6M6 6l12 12", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2"}
  /
    Mobile menu, toggle classes based on menu state.

    Open: "block", closed: "hidden"
  %div#user-menu.hidden{
        data: {
          "dropdown-target" => "menu",
          -# "data-active-target" => "user-menu",
          "dropdown-invisible-class" => "opacity-0 -translate-y-1 scale-95",
          "dropdown-visible-class" => "opacity-100  -translate-y-0",
          "dropdown-entering-class" => "transition ease-out duration-200",
          "dropdown-leaving-class" => "transition ease-in duration-150"
          },
            "aria-labelledby" => "user-menu",
            "aria-orientation" => "vertical", :role => "menu",
          class: "-mr-2 md:hidden"
          }

    .header-links
      .header-link
        = link_to "About", about_path
      .header-link
        = link_to 'Contact', contact_path
      .header-link
        = link_to "Buildings", buildings_path
      .header-link
        = link_to "Classrooms", rooms_path
    .pt-4.pb-3.border-t.border-blue-700
      .flex.items-center.px-5
        .flex-shrink-0
          %img.h-10.w-10.rounded-full{:alt => "#{current_user}", :src => "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}/
        .ml-3
          .text-base.font-medium.text-white Tom Cook
          .text-sm.font-medium.text-blue-300 tom@example.com
        %button{class: "ml-auto bg-blue-600 flex-shrink-0 p-1 border-2 border-transparent rounded-full text-blue-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white"}
          %span.sr-only View notifications
          / Heroicon name: bell
          %svg.h-6.w-6{"aria-hidden" => "true", :fill => "none", :stroke => "currentColor", :viewbox => "0 0 24 24", :xmlns => "http://www.w3.org/2000/svg"}
            %path{:d => "M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2"}
      .mt-3.px-2.space-y-1
        %a{class: "block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500 hover:bg-opacity-75", :href => "#"} Your Profile
        %a{class: "block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500 hover:bg-opacity-75", :href => "#"} Settings
        %a{class: "block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500 hover:bg-opacity-75", :href => "#"} Sign out


%script{src: "https://umlsait.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/r5gghz/b/3/bc54840da492f9ca037209037ef0522a/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&collectorId=51ecac03", type: "text/javascript"}
:javascript
  window.ATL_JQ_PAGE_PROPS =  {
      "triggerFunction": function(showCollectorDialog) {
        document.getElementById("feedbackHolder").addEventListener("click", function(e) {
        e.preventDefault();
        showCollectorDialog();
        });
      },
      "fieldValues" : {
        components : ['15319']
      }
    };

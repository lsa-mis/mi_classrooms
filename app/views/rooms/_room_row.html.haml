= turbo_frame_tag dom_id(room) do 
  .relative
    .max-w-2xl.mx-2.py-4.px-2.sm:py-2.sm:px-0.md:max-w-full.md:min-w-full.lg:px-4
      %h2.sr-only Classroom
      .grid.grid-cols-1.gap-y-4.sm:gap-x-6.sm:gap-y-10.lg:grid-cols-1.lg:gap-x-8.lg:max-w-2xl{"data-controller" => "dropdown"}
        
        .bg-white.border.border-gray-300.rounded-lg.flex.flex-col.sm:flex-row.overflow-hidden.sm:leading-tight{class: "#{cycle('row-even', 'row-odd')}",}

          
          %img{alt: "#{room.title}", src: "https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjJ8fGNsYXNzcm9vbXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60", class: "sm:h-28 sm:absolute object-scale-down"}

          .flex-1.px-2.sm:pt-0.sm:pl-2.py-2.space-y-4.flex.flex-col.sm:justify-between
            %div.flex.flex-row.justify-between.w-full.sm:pt-2.sm:pl-44.sm:py-2.lg:pl-36
              .text-2xl.font-medium.text-gray-900.lg:font-light
                .truncate= room.title 
                .text-base.text-blue-700.lg:text-xs
                  = room.address
              
              .text-base.text-gray-600.inline-flex.align-middle.justify-center.self-center.lg:text-sm
                .icon.text-gray-700= svg("users")
                =  "#{room.student_capacity}"
                
                - if user_signed_in?
                  .text-sm.font-medium.text-orange-700.items-endjustify-end.absolute.right-0.mr-2.mt-7
                    = link_to toggle_visibile_path(room), data: {"turbo-method": :toggle_visibile} do 
                      = room.visible ? "visible" : "hidden"

            .flex.flex-row.justify-between.sm:pl-36.lg:overflow-scroll
              .flex.flex-1.items-center.text-sm.font-medium.highlights
                = link_to "https://csprod.dsc.umich.edu/services/facilitycalendar?facilityid=#{room.facility_code_heprod }", target: "_blank" do
                  .h-layout.h-highlight-item
                    = svg("calendar_days") 
                    %span Scheduling

                .h-layout.h-highlight-item
                  = svg("message_question") 
                  %span Support
                  
                .h-layout.h-highlight-item
                  = svg("chair")
                  .span Room Layout
                .h-floorplan.h-highlight-item
                  = svg("layer_group")
                  %span Floor Map  

            

            .inline-block.text-md.px-4.leading-none.rounded.no-underline.text-gray.hover:text-gray-900.hover:bg-white.lg:mt-0.self-end
              
              .relative.inline-block.select-none{"data-action" => "click->dropdown#toggle click@window->dropdown#hide", "data-dropdown-target" => "button", role: "button", tabindex: "0"}
                %span.appearance-none.flex.items-center.inline-block.text-gray-700
                  Details
                  %svg.h-4.w-4{viewbox: "0 0 20 20", xmlns: "http://www.w3.org/2000/svg"}
                    %path{d: "M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}
                
            .hidden{data: {"dropdown-target" => "menu",
                                "dropdown-invisible-class" => "opacity-0 -translate-y-1 scale-95",
                                "dropdown-visible-class" => "opacity-100  -translate-y-0 ",
                                "dropdown-entering-class" => "transition ease-out duration-200",
                                "dropdown-leaving-class" => "transition ease-in duration-150"
                                }}
              .bg-white.shadow.rounded.border.overflow-hidden{data: {action: "click->dropdown#toggle"}}
                = render 'rooms_row_dropdown', room: room
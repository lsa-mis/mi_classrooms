- content_for :head do
  %link{href: "https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css", rel: "stylesheet"}

%h1 Classrooms
= form_with url: rooms_path, method: :get, class: "", data: { controller: "autosubmit", target: "autosubmit.form" } do |form|

  %label.block.text-sm.font-medium.text-gray-700{for: "building_name"}
    Search building names

  .mt-1flex.rounded-md.shadow-sm
    .relative.flex.items-stretch.flex-grow.focus-within:z-10
      .absolute.inset-y-0.left-0.pl-3.flex.items-center.pointer-events-none
        .h-5.w-5.text-gray-400= svg("magnifying-glass")

      - if params[:query].blank? 
        = form.text_field :query, {class: "search-by-building-name", 
        :placeholder => "Undergraduate Sciences Building", data: { action: "input->autosubmit#search" }}
      - else
        = form.text_field :query, class: 'search-by-building-name', value: params[:query], data: { action: "input->autosubmit#search" }

  .flex.flex-row
    
    = render partial: './search/filters', rooms: @rooms, locals: {form: form}

    %span.text-muted{"data-autosubmit-target" => "status"}
    .mt-2.text-sm.font-bold.text-blue-700.inline-flex.w-28.object-contain= "#{@pagy.count} Results"

= render 'listing'

